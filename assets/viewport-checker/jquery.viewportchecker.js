(function(c){c.fn.viewportChecker=function(p){var e={classToAdd:"visible",classToRemove:"invisible",classToAddForFullView:"full-visible",removeClassAfterAnimation:!1,offset:100,repeat:!1,invertBottomOffset:!0,callbackFunction:function(c,e){},scrollHorizontal:!1,scrollBox:window};c.extend(e,p);var h=this,l=c(e.scrollBox).height(),g=c(e.scrollBox).width(),n=-1!=navigator.userAgent.toLowerCase().indexOf("webkit")||-1!=navigator.userAgent.toLowerCase().indexOf("windows phone")?"body":"html";this.checkElements=
function(){if(e.scrollHorizontal){var f=c(n).scrollLeft();var k=f+g}else f=c(n).scrollTop(),k=f+l;h.each(function(){var a=c(this),b={},d={};a.data("vp-add-class")&&(d.classToAdd=a.data("vp-add-class"));a.data("vp-remove-class")&&(d.classToRemove=a.data("vp-remove-class"));a.data("vp-add-class-full-view")&&(d.classToAddForFullView=a.data("vp-add-class-full-view"));a.data("vp-keep-add-class")&&(d.removeClassAfterAnimation=a.data("vp-remove-after-animation"));a.data("vp-offset")&&(d.offset=a.data("vp-offset"));
a.data("vp-repeat")&&(d.repeat=a.data("vp-repeat"));a.data("vp-scrollHorizontal")&&(d.scrollHorizontal=a.data("vp-scrollHorizontal"));a.data("vp-invertBottomOffset")&&(d.scrollHorizontal=a.data("vp-invertBottomOffset"));c.extend(b,e);c.extend(b,d);if(!a.data("vp-animated")||b.repeat){0<String(b.offset).indexOf("%")&&(b.offset=parseInt(b.offset)/100*l);d=b.scrollHorizontal?a.offset().left:a.offset().top;var h=b.scrollHorizontal?d+a.width():d+a.height(),m=Math.round(d)+b.offset,g=b.scrollHorizontal?
m+a.width():m+a.height();b.invertBottomOffset&&(g-=2*b.offset);if(m<k&&g>f){if(a.removeClass(b.classToRemove),a.addClass(b.classToAdd),b.callbackFunction(a,"add"),h<=k&&d>=f?a.addClass(b.classToAddForFullView):a.removeClass(b.classToAddForFullView),a.data("vp-animated",!0),b.removeClassAfterAnimation)a.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){a.removeClass(b.classToAdd)})}else a.hasClass(b.classToAdd)&&b.repeat&&(a.removeClass(b.classToAdd+" "+
b.classToAddForFullView),b.callbackFunction(a,"remove"),a.data("vp-animated",!1))}})};("ontouchstart"in window||"onmsgesturechange"in window)&&c(document).bind("touchmove MSPointerMove pointermove",this.checkElements);c(e.scrollBox).bind("load scroll",this.checkElements);c(window).resize(function(f){l=c(e.scrollBox).height();g=c(e.scrollBox).width();h.checkElements()});this.checkElements();return this}})(jQuery);